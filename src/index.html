<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Busca Repos</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            padding-top: 60px;
            background-color: #eeeeee;
        }
        .bloque {
            max-width: auto;
            margin-left: auto;
            margin-right: auto;
            padding: 30px;
            background: white;
        }
        .bajo {
            margin-bottom: 30px;
        }
    </style>
</head>
<body>

<div class="container bloque">
    <h2 class="bajo">Buscador de GitHub</h2>

    <div class="input-group bajo">
        <input type="text" id="usuario" class="form-control" placeholder="Usuario...">
        <button id="accion" class="btn btn-primary">Buscar</button>
    </div>

    <table id="tabla" class="table table-bordered table-striped d-none">
        <thead class="table-dark">
        <tr>
            <th>Nombre</th>
            <th>Info</th>
            <th>Estrellas</th>
        </tr>
        </thead>
        <tbody id="filas">
        </tbody>
    </table>

    <div id="error" class="alert alert-danger d-none">
        No existe ese usuario.
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script>
    $('#accion').click(function() {
        var busca = $('#usuario').val();

        if (busca == "") return;

        $('#filas').empty();
        $('#tabla').addClass('d-none');
        $('#error').addClass('d-none');

        $.get("https://api.github.com/users/" + busca + "/repos", function(lista)
         {
            $('#tabla').removeClass('d-none');

            lista.forEach(function(item) {
                var nom = item.name;
                var txt = item.description || "Nada";
                var pts = item.stargazers_count;

                var html = "<tr>";
                html += "  <td>" + nom + "</td>";
                html += "  <td>" + txt + "</td>";
                html += "  <td>" + pts + "</td>";
                html += "</tr>";

                $('#filas').append(html);
            });
        }).fail(function() {
            $('#error').removeClass('d-none');
        });
    });
</script>

</body>
</html>